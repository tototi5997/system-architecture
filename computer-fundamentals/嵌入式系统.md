# 嵌入式系统

以应用为中心，以计算机技术为基础，并将可配置与可裁剪的软，硬件集成于一体的专用计算机系统，需要满足应用对功能，可靠性，成本，体积和功耗等方面的严格要求

## 嵌入式硬件

通常嵌入式处理器需要根据不同的使用场景选择不同类型的处理器，从处理器分类来看，大致可分为MPU，MCU，DSP，GPU，SOC

* 微处理器，微处理器装配在专门设计的电路板上，只保留相关的主板功能
* 微控制器，单片机，与微处理器对比在于体积大大缩小，能耗降低
* 信号处理器，DSP哈弗结构，适合执行算法，运行效率快
* 图形处理器，GPU
* 片上系统，SOC，最求产品系统最大包容的集成容器，是一种专门目标的集成电路

## 人工智能

人工智能芯片，从广义上来讲能运行人工智能算法的芯片都叫AI芯片，主要分为四大类：GPU，FPGA（现场可编程门阵列），ASIC（专用集成电路），类脑芯片

AI芯片的关键特征：

* 新型的计算范式
* 训练和推断
* 大数据处理能力
* 数据精度
* 可重构的能力

## 嵌入式微处理器结构

冯诺伊曼结构，是一种将程序指令存储器和数据存储器合并在一起的存储器结构；指令和数据都通过相同的数据总线传输；一般用与PC处理，比如i3，i5，i7处理器

哈弗结构，一种并行体系结构，他的主要特点是将程序和数据存储在不同的存储空间中，即程序存储器和数据存储器是两个独立的存储器，每个存储器独立访问；有较高的吞吐率，有4条总线；一般用于嵌入式系统处理器，如DSP

## 总线

总线是一组能为多个部件分时共享的信息传输线，用来连接多个部件并为之提供信息交换通路（半双工）

挂接在总线上的多个部件，可以分时向总线发送数据，但是可以同时接受数据；通过总线服用的方式可以减少总线中信号线数量

总线分为：芯片内总线（用于同一块电路板内各元器件的连接），系统总线（又称内总线，用于计算机个组成部分的连接）和外总线（计算机与外设或者计算机与计算机之间的连接）

按照功能划分：数据总线，地址总线和控制总线

按照数据传输方式划分：并行总线（将数据字节的各部分用多条数据线同时进行传输）和串行总线（数据是一位一位的传输的，传输中每一位数据都占据一个固定的时间长度，其数据的正确性依赖校验码纠正）

## 嵌入式操作系统

嵌入式系统的操作系统，负责嵌入式系统的全部软，硬件的资源分配，任务调度，控制，协调等工作，通常包括与硬件相关的底层驱动，系统内核，设备驱动，通信协议，图形界面，标准化浏览器等

特点：微型化，代码质量高，专业化，实时性强，可裁剪，可配置

实时性嵌入式操作系统的性能评估指标：中断响应的延迟时间，任务切换时间，信号量混洗时间

实时性实时操作系统调度算法有：优先级调度算法（系统分配一个顺序），抢占式优先级调度算法，最早截止期调度算法，最晚截止期调度算法

## 操作系统内核架构

从内核架构来划分，操作系统内核架构分为宏内核（又叫单体内核）和微内核（宏内核和微内核的区别在于，微内核将大部分服务进程管理放在用户空间）

宏内核将大部分功能都在核内实现，运行在内核状态和同一地址空间；微内核只实现基本功能，可靠性，稳定性较强，性能偏低（鸿蒙操作系统就是微内核）。

鸿蒙操作系统具有4个技术特性：

* 分布式架构首次用于终端OS，实现跨终端无缝协同体验
* 确定时延引擎和高性能IPC技术实现系统天生流畅
* 基于微内核架构重塑终端设备可信安全
* 通过统一IDE支撑一次开发，多端部署，实现跨终端生态共享

## 嵌入式数据库

与传统数据库相比，嵌入式数据库系统有以下几个主要特点：嵌入性，实时性，移动性，伸缩性

它可以划分为三类：基于内存方式；基于文件方式；基于网络方式；

基于内存的数据库MMDB：实时系统和数据库系统的有机结合；活动事务只与实时内存数据库的内存拷贝打交道；

基于文件数据库FDB：数据按照一定格式存储在磁盘中，使用由应用程序通过相应的驱动程序直接对数据文件进行读写；安全性很低；

基于网络的数据库NDB：基于4G/5G移动通信基础上的数据库系统，在逻辑上可以把嵌入式设备看作远程服务器的一个客户端；
